(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{556:function(t,e,r){var map={"./af":414,"./af.js":414,"./ar":415,"./ar-dz":416,"./ar-dz.js":416,"./ar-kw":417,"./ar-kw.js":417,"./ar-ly":418,"./ar-ly.js":418,"./ar-ma":419,"./ar-ma.js":419,"./ar-sa":420,"./ar-sa.js":420,"./ar-tn":421,"./ar-tn.js":421,"./ar.js":415,"./az":422,"./az.js":422,"./be":423,"./be.js":423,"./bg":424,"./bg.js":424,"./bm":425,"./bm.js":425,"./bn":426,"./bn.js":426,"./bo":427,"./bo.js":427,"./br":428,"./br.js":428,"./bs":429,"./bs.js":429,"./ca":430,"./ca.js":430,"./cs":431,"./cs.js":431,"./cv":432,"./cv.js":432,"./cy":433,"./cy.js":433,"./da":434,"./da.js":434,"./de":435,"./de-at":436,"./de-at.js":436,"./de-ch":437,"./de-ch.js":437,"./de.js":435,"./dv":438,"./dv.js":438,"./el":439,"./el.js":439,"./en-au":440,"./en-au.js":440,"./en-ca":441,"./en-ca.js":441,"./en-gb":442,"./en-gb.js":442,"./en-ie":443,"./en-ie.js":443,"./en-il":444,"./en-il.js":444,"./en-in":445,"./en-in.js":445,"./en-nz":446,"./en-nz.js":446,"./en-sg":447,"./en-sg.js":447,"./eo":448,"./eo.js":448,"./es":449,"./es-do":450,"./es-do.js":450,"./es-us":451,"./es-us.js":451,"./es.js":449,"./et":452,"./et.js":452,"./eu":453,"./eu.js":453,"./fa":454,"./fa.js":454,"./fi":455,"./fi.js":455,"./fil":456,"./fil.js":456,"./fo":457,"./fo.js":457,"./fr":458,"./fr-ca":459,"./fr-ca.js":459,"./fr-ch":460,"./fr-ch.js":460,"./fr.js":458,"./fy":461,"./fy.js":461,"./ga":462,"./ga.js":462,"./gd":463,"./gd.js":463,"./gl":464,"./gl.js":464,"./gom-deva":465,"./gom-deva.js":465,"./gom-latn":466,"./gom-latn.js":466,"./gu":467,"./gu.js":467,"./he":468,"./he.js":468,"./hi":469,"./hi.js":469,"./hr":470,"./hr.js":470,"./hu":471,"./hu.js":471,"./hy-am":472,"./hy-am.js":472,"./id":473,"./id.js":473,"./is":474,"./is.js":474,"./it":475,"./it-ch":476,"./it-ch.js":476,"./it.js":475,"./ja":477,"./ja.js":477,"./jv":478,"./jv.js":478,"./ka":479,"./ka.js":479,"./kk":480,"./kk.js":480,"./km":481,"./km.js":481,"./kn":482,"./kn.js":482,"./ko":483,"./ko.js":483,"./ku":484,"./ku.js":484,"./ky":485,"./ky.js":485,"./lb":486,"./lb.js":486,"./lo":487,"./lo.js":487,"./lt":488,"./lt.js":488,"./lv":489,"./lv.js":489,"./me":490,"./me.js":490,"./mi":491,"./mi.js":491,"./mk":492,"./mk.js":492,"./ml":493,"./ml.js":493,"./mn":494,"./mn.js":494,"./mr":495,"./mr.js":495,"./ms":496,"./ms-my":497,"./ms-my.js":497,"./ms.js":496,"./mt":498,"./mt.js":498,"./my":499,"./my.js":499,"./nb":500,"./nb.js":500,"./ne":501,"./ne.js":501,"./nl":502,"./nl-be":503,"./nl-be.js":503,"./nl.js":502,"./nn":504,"./nn.js":504,"./oc-lnc":505,"./oc-lnc.js":505,"./pa-in":506,"./pa-in.js":506,"./pl":507,"./pl.js":507,"./pt":508,"./pt-br":509,"./pt-br.js":509,"./pt.js":508,"./ro":510,"./ro.js":510,"./ru":511,"./ru.js":511,"./sd":512,"./sd.js":512,"./se":513,"./se.js":513,"./si":514,"./si.js":514,"./sk":515,"./sk.js":515,"./sl":516,"./sl.js":516,"./sq":517,"./sq.js":517,"./sr":518,"./sr-cyrl":519,"./sr-cyrl.js":519,"./sr.js":518,"./ss":520,"./ss.js":520,"./sv":521,"./sv.js":521,"./sw":522,"./sw.js":522,"./ta":523,"./ta.js":523,"./te":524,"./te.js":524,"./tet":525,"./tet.js":525,"./tg":526,"./tg.js":526,"./th":527,"./th.js":527,"./tk":528,"./tk.js":528,"./tl-ph":529,"./tl-ph.js":529,"./tlh":530,"./tlh.js":530,"./tr":531,"./tr.js":531,"./tzl":532,"./tzl.js":532,"./tzm":533,"./tzm-latn":534,"./tzm-latn.js":534,"./tzm.js":533,"./ug-cn":535,"./ug-cn.js":535,"./uk":536,"./uk.js":536,"./ur":537,"./ur.js":537,"./uz":538,"./uz-latn":539,"./uz-latn.js":539,"./uz.js":538,"./vi":540,"./vi.js":540,"./x-pseudo":541,"./x-pseudo.js":541,"./yo":542,"./yo.js":542,"./zh-cn":543,"./zh-cn.js":543,"./zh-hk":544,"./zh-hk.js":544,"./zh-mo":545,"./zh-mo.js":545,"./zh-tw":546,"./zh-tw.js":546};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=556},632:function(t,e,r){"use strict";r.r(e);r(105),r(6),r(8),r(61);var n=r(14),o=r(411),c=r.n(o),l={fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchAllRoutes();case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{time:"",allLocations:[],apiRouteData:{},ttcStops:[],timeday:0,labels:[],degreeRadioGroup:"C",searchLocation:"",routeTag:"",item:1,tagDirection:"",routeDirection:{},predictionsData:{}}},methods:{fetchAllRoutes:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.$get("/ttc/routes/all");case 2:r=e.sent,t.allLocations=r.message;case 4:case"end":return e.stop()}}),e)})))()},fetchSpecificRoute:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.$post("/ttc/routes/specific",{routeTag:t.routeTag});case 2:r=e.sent,t.apiRouteData=r.message,t.ttcStops=[],n={},t.apiRouteData.direction.forEach((function(e){(n={}).$=e.$,n.stop=[],e.stop.forEach((function(e){var r=t.apiRouteData.stop.find((function(t){return t.$.tag===e.$.tag}));n.stop.push(r)})),t.ttcStops.push(n)}));case 7:case"end":return e.stop()}}),e)})))()},fetchPredictions:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("--- fetching predictions ---"),t.routeDirection[t.tagDirection]){e.next=3;break}return e.abrupt("return");case 3:return console.log("routeTag = ",t.routeTag),console.log("stop ID = ",t.routeDirection[t.tagDirection]),e.next=7,t.$http.$post("/ttc/predictions",{stopId:t.routeDirection[t.tagDirection],routeTag:t.routeTag});case 7:r=e.sent,t.predictionsData=r.message,t.time=c()().format("LTS"),console.log("predictions data = ",t.predictionsData);case 11:case"end":return e.stop()}}),e)})))()}}},j=r(97),d=r(128),v=r.n(d),m=r(629),h=r(564),f=r(412),k=r(625),_=r(410),D=r(560),$=r(178),w=r(122),y=r(82),x=r(103),z=r(633),R=r(626),T=r(627),C=r(562),component=Object(j.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"6"}},[r("v-card",{staticClass:"mx-auto",attrs:{width:"80%","min-height":"80vh",color:"teal accent-3",hover:""}},[r("v-card-title",{staticClass:"headline teal accent-4 grey--text text--lighten-2 px-auto"},[t._v("Predictions")]),t._v(" "),t.predictionsData&&0!==Object.keys(t.predictionsData).length?r("div",[r("v-card-title",[t._v("\n            "+t._s(t.predictionsData.$.routeTitle)+"\n          ")]),t._v(" "),t.predictionsData.direction?r("div",[r("v-subheader",[t._v(" "+t._s(t.predictionsData.$.stopTitle))]),t._v(" "),r("v-subheader",[t._v("API accessed at "+t._s(t.time))]),t._v(" "),r("v-divider"),t._v(" "),t._l(t.predictionsData.direction[0].prediction,(function(e,i){return[r("v-list-item",{key:i},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-bus")])],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",[r("strong",[t._v(t._s(e.$.minutes)+" minutes and\n                      "+t._s(e.$.seconds%60)+" seconds")])])],1)],1),t._v(" "),r("v-divider",{key:"prediction-"+i})]}))],2):r("div",[r("v-subheader",[t._v(t._s(t.predictionsData.$.dirTitleBecauseNoPredictions))]),t._v(" "),r("v-divider"),t._v(" "),r("v-subheader",[t._v("Slow down to get predictions")]),t._v(" "),r("v-subheader",[t._v("API accessed at "+t._s(t.time))])],1)],1):r("v-card-text",[t._v("Select a route stop to enable predictions.")])],1)],1),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-card",{attrs:{color:"light-green darken-3",dark:"","min-height":"80vh",hover:""}},[r("v-card-title",{staticClass:"headline light-green darken-4 px-auto"},[t._v("\n          Choose stops\n        ")]),t._v(" "),r("v-card-text",[r("v-autocomplete",{staticClass:"px-4",attrs:{items:t.allLocations,color:"white","item-text":"$.title","item-value":"$.tag","item-color":"red lighten-3",label:"Route","auto-select-first":"",eager:""},on:{change:function(e){return t.fetchSpecificRoute()}},model:{value:t.routeTag,callback:function(e){t.routeTag=e},expression:"routeTag"}})],1),t._v(" "),r("v-divider",{staticClass:"purple darken-1"}),t._v(" "),r("v-radio-group",{attrs:{mandatory:""},on:{change:function(e){return t.fetchPredictions()}},model:{value:t.tagDirection,callback:function(e){t.tagDirection=e},expression:"tagDirection"}},[t._l(t.ttcStops,(function(e){return[r("v-row",{key:e.$.tag},[r("v-col",{attrs:{cols:"auto"}},[r("v-autocomplete",{staticClass:"ml-8",attrs:{items:e.stop,color:"white","item-text":"$.title","item-value":"$.stopId",label:e.$.branch+" "+e.$.name+" - Stop","auto-select-first":""},on:{change:function(e){return t.fetchPredictions()}},model:{value:t.routeDirection[e.$.tag],callback:function(r){t.$set(t.routeDirection,e.$.tag,r)},expression:"routeDirection[item.$.tag]"}})],1),t._v(" "),r("v-col",{attrs:{cols:"auto"}},[r("v-radio",{attrs:{color:"purple",label:e.$.branch+" "+e.$.name,value:e.$.tag}})],1)],1),t._v(" "),r("v-divider",{key:e.$.tag+"-div",staticClass:"purple lighten-1",attrs:{inset:""}})]}))],2)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;v()(component,{VAutocomplete:m.a,VCard:h.a,VCardText:f.a,VCardTitle:f.b,VCol:k.a,VContainer:_.a,VDivider:D.a,VIcon:$.a,VListItem:w.a,VListItemContent:y.a,VListItemIcon:x.a,VListItemTitle:y.c,VRadio:z.a,VRadioGroup:R.a,VRow:T.a,VSubheader:C.a})}}]);