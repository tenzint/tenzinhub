(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{557:function(t,e,r){var map={"./af":415,"./af.js":415,"./ar":416,"./ar-dz":417,"./ar-dz.js":417,"./ar-kw":418,"./ar-kw.js":418,"./ar-ly":419,"./ar-ly.js":419,"./ar-ma":420,"./ar-ma.js":420,"./ar-sa":421,"./ar-sa.js":421,"./ar-tn":422,"./ar-tn.js":422,"./ar.js":416,"./az":423,"./az.js":423,"./be":424,"./be.js":424,"./bg":425,"./bg.js":425,"./bm":426,"./bm.js":426,"./bn":427,"./bn.js":427,"./bo":428,"./bo.js":428,"./br":429,"./br.js":429,"./bs":430,"./bs.js":430,"./ca":431,"./ca.js":431,"./cs":432,"./cs.js":432,"./cv":433,"./cv.js":433,"./cy":434,"./cy.js":434,"./da":435,"./da.js":435,"./de":436,"./de-at":437,"./de-at.js":437,"./de-ch":438,"./de-ch.js":438,"./de.js":436,"./dv":439,"./dv.js":439,"./el":440,"./el.js":440,"./en-au":441,"./en-au.js":441,"./en-ca":442,"./en-ca.js":442,"./en-gb":443,"./en-gb.js":443,"./en-ie":444,"./en-ie.js":444,"./en-il":445,"./en-il.js":445,"./en-in":446,"./en-in.js":446,"./en-nz":447,"./en-nz.js":447,"./en-sg":448,"./en-sg.js":448,"./eo":449,"./eo.js":449,"./es":450,"./es-do":451,"./es-do.js":451,"./es-us":452,"./es-us.js":452,"./es.js":450,"./et":453,"./et.js":453,"./eu":454,"./eu.js":454,"./fa":455,"./fa.js":455,"./fi":456,"./fi.js":456,"./fil":457,"./fil.js":457,"./fo":458,"./fo.js":458,"./fr":459,"./fr-ca":460,"./fr-ca.js":460,"./fr-ch":461,"./fr-ch.js":461,"./fr.js":459,"./fy":462,"./fy.js":462,"./ga":463,"./ga.js":463,"./gd":464,"./gd.js":464,"./gl":465,"./gl.js":465,"./gom-deva":466,"./gom-deva.js":466,"./gom-latn":467,"./gom-latn.js":467,"./gu":468,"./gu.js":468,"./he":469,"./he.js":469,"./hi":470,"./hi.js":470,"./hr":471,"./hr.js":471,"./hu":472,"./hu.js":472,"./hy-am":473,"./hy-am.js":473,"./id":474,"./id.js":474,"./is":475,"./is.js":475,"./it":476,"./it-ch":477,"./it-ch.js":477,"./it.js":476,"./ja":478,"./ja.js":478,"./jv":479,"./jv.js":479,"./ka":480,"./ka.js":480,"./kk":481,"./kk.js":481,"./km":482,"./km.js":482,"./kn":483,"./kn.js":483,"./ko":484,"./ko.js":484,"./ku":485,"./ku.js":485,"./ky":486,"./ky.js":486,"./lb":487,"./lb.js":487,"./lo":488,"./lo.js":488,"./lt":489,"./lt.js":489,"./lv":490,"./lv.js":490,"./me":491,"./me.js":491,"./mi":492,"./mi.js":492,"./mk":493,"./mk.js":493,"./ml":494,"./ml.js":494,"./mn":495,"./mn.js":495,"./mr":496,"./mr.js":496,"./ms":497,"./ms-my":498,"./ms-my.js":498,"./ms.js":497,"./mt":499,"./mt.js":499,"./my":500,"./my.js":500,"./nb":501,"./nb.js":501,"./ne":502,"./ne.js":502,"./nl":503,"./nl-be":504,"./nl-be.js":504,"./nl.js":503,"./nn":505,"./nn.js":505,"./oc-lnc":506,"./oc-lnc.js":506,"./pa-in":507,"./pa-in.js":507,"./pl":508,"./pl.js":508,"./pt":509,"./pt-br":510,"./pt-br.js":510,"./pt.js":509,"./ro":511,"./ro.js":511,"./ru":512,"./ru.js":512,"./sd":513,"./sd.js":513,"./se":514,"./se.js":514,"./si":515,"./si.js":515,"./sk":516,"./sk.js":516,"./sl":517,"./sl.js":517,"./sq":518,"./sq.js":518,"./sr":519,"./sr-cyrl":520,"./sr-cyrl.js":520,"./sr.js":519,"./ss":521,"./ss.js":521,"./sv":522,"./sv.js":522,"./sw":523,"./sw.js":523,"./ta":524,"./ta.js":524,"./te":525,"./te.js":525,"./tet":526,"./tet.js":526,"./tg":527,"./tg.js":527,"./th":528,"./th.js":528,"./tk":529,"./tk.js":529,"./tl-ph":530,"./tl-ph.js":530,"./tlh":531,"./tlh.js":531,"./tr":532,"./tr.js":532,"./tzl":533,"./tzl.js":533,"./tzm":534,"./tzm-latn":535,"./tzm-latn.js":535,"./tzm.js":534,"./ug-cn":536,"./ug-cn.js":536,"./uk":537,"./uk.js":537,"./ur":538,"./ur.js":538,"./uz":539,"./uz-latn":540,"./uz-latn.js":540,"./uz.js":539,"./vi":541,"./vi.js":541,"./x-pseudo":542,"./x-pseudo.js":542,"./yo":543,"./yo.js":543,"./zh-cn":544,"./zh-cn.js":544,"./zh-hk":545,"./zh-hk.js":545,"./zh-mo":546,"./zh-mo.js":546,"./zh-tw":547,"./zh-tw.js":547};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=557},633:function(t,e,r){"use strict";r.r(e);r(105),r(6),r(8),r(69);var n=r(16),o=r(412),c=r.n(o),l={fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchAllRoutes();case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{time:"",allLocations:[],apiRouteData:{},ttcStops:[],timeday:0,labels:[],degreeRadioGroup:"C",searchLocation:"",routeTag:"",item:1,tagDirection:"",routeDirection:{},predictionsData:{}}},methods:{fetchAllRoutes:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.$get("https://tenzinhub-api.glitch.me/api/ttc/routes/all");case 2:r=e.sent,t.allLocations=r.message;case 4:case"end":return e.stop()}}),e)})))()},fetchSpecificRoute:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.$post("https://tenzinhub-api.glitch.me/api/ttc/routes/specific",{routeTag:t.routeTag});case 2:r=e.sent,t.apiRouteData=r.message,t.ttcStops=[],n={},t.apiRouteData.direction.forEach((function(e){(n={}).$=e.$,n.stop=[],e.stop.forEach((function(e){var r=t.apiRouteData.stop.find((function(t){return t.$.tag===e.$.tag}));n.stop.push(r)})),t.ttcStops.push(n)}));case 7:case"end":return e.stop()}}),e)})))()},fetchPredictions:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.routeDirection[t.tagDirection]){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.$post("https://tenzinhub-api.glitch.me/api/ttc/predictions",{stopId:t.routeDirection[t.tagDirection],routeTag:t.routeTag});case 4:r=e.sent,t.predictionsData=r.message,t.time=c()().format("LTS");case 7:case"end":return e.stop()}}),e)})))()}}},j=r(97),d=r(128),v=r.n(d),m=r(630),h=r(565),f=r(413),k=r(626),_=r(411),$=r(561),w=r(178),y=r(122),D=r(82),x=r(103),z=r(634),R=r(627),C=r(628),T=r(563),component=Object(j.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",{staticClass:"mx-auto",attrs:{width:"80%","min-height":"80vh",color:"teal accent-3",hover:""}},[r("v-card-title",{staticClass:"headline teal accent-4 grey--text text--lighten-2 px-auto"},[t._v("Predictions")]),t._v(" "),t.predictionsData&&0!==Object.keys(t.predictionsData).length?r("div",[r("v-card-title",[t._v("\n            "+t._s(t.predictionsData.$.routeTitle)+"\n          ")]),t._v(" "),t.predictionsData.direction?r("div",[r("v-subheader",[t._v(" "+t._s(t.predictionsData.$.stopTitle))]),t._v(" "),r("v-subheader",[t._v("API accessed at "+t._s(t.time))]),t._v(" "),r("v-divider"),t._v(" "),t._l(t.predictionsData.direction[0].prediction,(function(e,i){return[r("v-list-item",{key:i},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-bus")])],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",[r("strong",[t._v(t._s(e.$.minutes)+" minutes and\n                      "+t._s(e.$.seconds%60)+" seconds")])])],1)],1),t._v(" "),r("v-divider",{key:"prediction-"+i})]}))],2):r("div",[r("v-subheader",[t._v(t._s(t.predictionsData.$.dirTitleBecauseNoPredictions))]),t._v(" "),r("v-divider"),t._v(" "),r("v-subheader",[t._v("Slow down to get predictions")]),t._v(" "),r("v-subheader",[t._v("API accessed at "+t._s(t.time))])],1)],1):r("v-card-text",[t._v("Select a route stop to enable predictions.")])],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",{attrs:{color:"light-green darken-3",dark:"","min-height":"80vh",hover:""}},[r("v-card-title",{staticClass:"headline light-green darken-4 px-auto"},[t._v("\n          Choose stops\n        ")]),t._v(" "),r("v-card-text",[r("v-autocomplete",{staticClass:"px-4",attrs:{items:t.allLocations,color:"white","item-text":"$.title","item-value":"$.tag","item-color":"red lighten-3",label:"Route","auto-select-first":"",eager:""},on:{change:function(e){return t.fetchSpecificRoute()}},model:{value:t.routeTag,callback:function(e){t.routeTag=e},expression:"routeTag"}})],1),t._v(" "),r("v-divider",{staticClass:"purple darken-1"}),t._v(" "),r("v-radio-group",{attrs:{mandatory:""},on:{change:function(e){return t.fetchPredictions()}},model:{value:t.tagDirection,callback:function(e){t.tagDirection=e},expression:"tagDirection"}},[t._l(t.ttcStops,(function(e){return[r("v-row",{key:e.$.tag},[r("v-col",{attrs:{cols:"auto"}},[r("v-autocomplete",{staticClass:"ml-8",attrs:{items:e.stop,color:"white","item-text":"$.title","item-value":"$.stopId",label:e.$.branch+" "+e.$.name+" - Stop","auto-select-first":""},on:{change:function(e){return t.fetchPredictions()}},model:{value:t.routeDirection[e.$.tag],callback:function(r){t.$set(t.routeDirection,e.$.tag,r)},expression:"routeDirection[item.$.tag]"}})],1),t._v(" "),r("v-col",{attrs:{cols:"auto"}},[r("v-radio",{attrs:{color:"purple",label:e.$.branch+" "+e.$.name,value:e.$.tag}})],1)],1),t._v(" "),r("v-divider",{key:e.$.tag+"-div",staticClass:"purple lighten-1",attrs:{inset:""}})]}))],2)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;v()(component,{VAutocomplete:m.a,VCard:h.a,VCardText:f.a,VCardTitle:f.b,VCol:k.a,VContainer:_.a,VDivider:$.a,VIcon:w.a,VListItem:y.a,VListItemContent:D.a,VListItemIcon:x.a,VListItemTitle:D.c,VRadio:z.a,VRadioGroup:R.a,VRow:C.a,VSubheader:T.a})}}]);